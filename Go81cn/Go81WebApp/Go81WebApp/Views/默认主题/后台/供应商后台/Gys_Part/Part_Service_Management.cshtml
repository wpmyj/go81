@model Go81WebApp.Models.数据模型.用户数据模型.供应商
@using Go81WebApp.Models.数据模型.用户数据模型
<link href="~/css/index.css" rel="stylesheet" />
<link href="~/css/Msg_Tips.css" rel="stylesheet" />
<link href="~/css/css.css" rel=" stylesheet" />
<script src="~/JS/provinceandcity_all.js"></script>
<style>
    table tr td span {
        background-color: #ffebeb;
        font-size: 12px;
        color: red;
    }

    .submenulist li h3 a.on {
        line-height: 30px;
        width: 231px;
    }
            .out_box {
        display: none;
    }

    .out_box_infirst {
        position: fixed;
        z-index: 5;
        top: 0px;
        left: 0px;
        text-align: center;
        right: 0;
        bottom: 0px;
        background-color: black;
        opacity: 0.5;
        -moz-opacity: 0.5;
        filter: alpha(opacity=50);
        height: 100%;
        width: 100%;
        border: 1px solid green;
        box-shadow: 0px 0px 10px gray;
        -webkit-box-shadow: 0px 0px 10px gray;
        -moz-box-shadow: 0px 0px 10px gray;
    }

    .out_box_insecond {
        position: fixed;
        width: 100%;
        height: 80%;
        left: 0px;
        z-index: 20;
        top: 20%;
    }

    .out_box_insecond_child {
        width: 830px;
        position: relative;
        margin: 0px auto;
        z-index: 100;
        background-color: white;
    }

    .close_outbox {
        width: 30px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        background-color: red;
        font-size: 30px;
        color: white;
        float: right;
        cursor: pointer;
    }
    td {
        position: relative;
    }

    div.out_box {
        width: 135px;
        left: initial;
    }
</style>

<div id="f" class="out_box">
    <div class="out_box_infirst">
    </div>
    <div class="out_box_insecond">
        <div class="out_box_insecond_child">
            <div style="width:100%; height:auto;"><a class="close_outbox" title="关闭窗口" onclick="$('#f').hide()">×</a></div>
            <div style="width:830px; height:270px; overflow:hidden;">
                <h3 style="text-align:center;">新增售后服务机构</h3>
                <form action="/供应商后台/Service_Manage" method="post">
                    <table width="100%" style="margin-left:60px;">
                        <tr>
                            <td width="15%" height="30" align="right">服务机构名称：</td>
                            <td height="30" width="25%">
                                <input onmouseover="show_tip(this)" onmouseout="hide_tip(this)" type="text" name="售后服务机构列表[0].售后服务机构名称" />
                            </td>
                            <td height="30" width="15%" align="right">
                                服务机构类别：
                            </td>
                            <td height="30" width="45%">
                                <select onmouseover="show_tip(this)" onmouseout="hide_tip(this)" style="width:154px; margin-left:2px;" type="text" onblur="setCatorgray(this)" name="售后服务机构列表[0].售后服务机构类别">
                                    <option value="0">未指定</option>
                                    <option value="1">服务机构</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td height="30" align="right">
                                省份：
                            </td>
                            <td height="30">
                                <input type="text" name="售后服务机构列表[0].所在地.省份" onmouseover="show_tip(this)" onmouseout="hide_tip(this)" />
                            </td>
                            <td height="30" align="right">城市：</td>
                            <td height="30">
                                <input type="text" name="售后服务机构列表[0].所在地.城市" onmouseover="show_tip(this)" onmouseout="hide_tip(this)" />
                            </td>
                        <tr>
                            <td height="30" align="right">
                                区县：
                            </td>
                            <td height="30">
                                <input type="text" name="售后服务机构列表[0].所在地.区县" onmouseover="show_tip(this)" onmouseout="hide_tip(this)" />
                            </td>
                            <td height="30" align="right">联系人：</td>
                            <td height="30">
                                <input onmouseover="show_tip(this)" onmouseout="hide_tip(this)" type="text" name="售后服务机构列表[0].负责人联系方式.联系人" />
                            </td>
                        </tr>
                        <tr>
                            <td height="30" align="right">联系手机：</td>
                            <td height="30">
                                <input onmouseover="show_tip(this)" onmouseout="hide_tip(this)" type="text" name="售后服务机构列表[0].负责人联系方式.手机" /><div class="out_box"><div class="arrow"></div><div class="con_box">请填写联系人手机号码，如13214789654</div></div>
                            </td>
                        </tr>
                    </table>
                    <table width="100%" style="margin-top:20px;"><tr><td style="display:block;height:50px; text-align:center;"><input type="submit" id="submit_btn" value="保  存" /></td></tr></table>
                </form>
            </div>
            <div>
            </div>
        </div>
    </div>
</div>
<div class="company_msg">
    <div id="title_div" class="gys_xttz_topbg">
        <div class="index_bottom_zb_top_title">
            售后服务机构信息
            @if (Model.供应商用户信息.已提交)
            {
                <span style="font-size:15px; color:red;"><em>您已提交过申请，不能修改信息。如需修改信息，请联系网站管理员。</em></span>
            }
            else
            {
                <a style="cursor: pointer;" onclick="$('#f').show()" data-toggle="modal" data-target="#addPic">【新增】</a>
            }
        </div>
    </div>
    <div style="font-size:14px;">
        <div id="Service" class="gys_znxx_box">
            <div class="gys_znxx_content">
                @if (Model.售后服务机构列表 != null && Model.售后服务机构列表.Count() != 0)
                {
                    <table width="100%" cellspacing="0" cellpadding="0">
                        <tr>
                            <th>机构名称</th>
                            <th>机构类别</th>
                            <th>所在地</th>
                            <th>联系人</th>
                            <th>联系手机</th>
                            @if (!Model.供应商用户信息.已提交)
                            {
                            <th>操作</th>
                            }
                        </tr>
                        @for (int i = 0; i < Model.售后服务机构列表.Count(); i++)
                        {
                            <tr>
                                <td>@Model.售后服务机构列表[i].售后服务机构名称</td>
                                <td>@Model.售后服务机构列表[i].售后服务机构类别</td>
                                <td>@Model.售后服务机构列表[i].所在地.地域</td>
                                <td>@Model.售后服务机构列表[i].负责人联系方式.联系人</td>
                                <td>@Model.售后服务机构列表[i].负责人联系方式.手机</td>
                                @if(!Model.供应商用户信息.已提交)
                                {
                                    <td><a href="/供应商后台/Modify_Servicdepartment?index=@i">修改</a><a onclick="del(@i)" href="###">删除</a></td>
                                }
                            </tr>
                        }
                    </table>
                }
                else
                {
                    if(!Model.供应商用户信息.已提交)
                    {
                        <h1 style="width: 100%; text-align: center; color: red;"><em>没有服务机构信息，点击【新增】按钮添加服务机构信息</em></h1>
                    }
                    else
                    {
                        <h1 style="width: 100%; text-align: center; color: red;"><em>您已提交过信息，如需修改，请联系网站管理员</em></h1>
                    }
                }
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" language="javascript">
    $(document).ready(function () {
        $("a.modify").click(function () { $(".company_msg :text,.company_msg select,.company_msg textarea,.company_msg :checkbox,.company_msg :file,.company_msg :submit").each(function () { $(this).removeAttr("disabled"); $(".company_msg a.add").show(); }); $(".company_msg :submit").css("background-color", "#2c5735"); });
        $("table tr td :input").mouseover(function () {
            $(this).next("div").show();
            $(this).next("div").css("display", "inline-block");
        });
        $("table tr td :input").mouseout(function () { $(this).next("div").hide(); });

        $("#售后服务机构信息").css({ "background": "#537E2B" }).children("a").css({ "color": "#fff" });
        $("#售后服务机构信息").parents().attr("show", "true").show().prev("li").addClass("open").children("span").css({"background":"url('../Images/tree_icons.png') -115px -4px"});
    });
    function show_tip(t) {
        $(t).next("div").show();
        $(t).next("div").css("display", "inline-block");
    }
    function hide_tip(t) {
        $(t).next("div").hide();
    }
</script>
<script type="text/javascript" language="javascript">
        @{
            int number =0;
            if(Model.售后服务机构列表!=null&&Model.售后服务机构列表.Count()!=0)
            {
                number=Model.售后服务机构列表.Count();
            }
        }
    var num =@number
    $(document).ready(function () {
        if (num != 0) {
            $(".company_msg a.add").hide();
        }
    });
    function del(index)
    {
        if(confirm("确定删除吗？"))
        {
            window.location = "/供应商后台/Delete_Servicdepartment?index="+index;
        }
    }
    $(".company_msg :text,.company_msg select,.company_msg textarea,.company_msg :checkbox,.company_msg :file,.company_msg :submit").each(function () { $(this).attr("disabled", "disabled"); $(this).css("background-color", "white"); });
</script>
